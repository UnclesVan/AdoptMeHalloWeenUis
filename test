local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game.Workspace

local spawnLocation = Vector3.new(0, 0, 0) -- Set spawn location here
local minDistance = 100 -- Minimum distance from spawn

local function getRandomPositionAwayFromSpawn()
    local angle = math.random() * 2 * math.pi
    local distance = minDistance + math.random(50, 200) -- Random distance away
    local x = spawnLocation.X + math.cos(angle) * distance
    local z = spawnLocation.Z + math.sin(angle) * distance
    local y = 50 -- Height above ground, adjust as needed
    return Vector3.new(x, y, z)
end

local function teleportPlayer(player)
    local character = player.Character
    if not character then return end
    local humanoidRoot = character:FindFirstChild("HumanoidRootPart")
    if not humanoidRoot then return end

    local newPos = getRandomPositionAwayFromSpawn()

    -- Move player
    humanoidRoot.CFrame = CFrame.new(newPos + Vector3.new(0, 5, 0)) -- Slightly above ground

    -- Create platform beneath the player
    local platform = Workspace:FindFirstChild("TeleportPlatform")
    if not platform then
        -- Create if not exists
        platform = Instance.new("Part")
        platform.Name = "TeleportPlatform"
        platform.Size = Vector3.new(10, 1, 10)
        platform.Anchored = true
        platform.BrickColor = BrickColor.new("Bright yellow")
        platform.Parent = Workspace
    end

    platform.CFrame = CFrame.new(newPos - Vector3.new(0, platform.Size.Y / 2, 0))
end

-- Example trigger: teleport all players after 10 seconds
wait(10)
for _, player in pairs(Players:GetPlayers()) do
    teleportPlayer(player)
end
